(kicad_sch (version 20230121) (generator eeschema)

  (uuid 024b6358-58d2-4f27-baff-bf9e44899c87)

  (paper "A3")

  (title_block
    (title "bldc_controller")
    (date "2023-12-04")
  )

  (lib_symbols
    (symbol "MCU_ST_STM32G4:STM32G431CBUx" (in_bom yes) (on_board yes)
      (property "Reference" "U" (at -12.7 44.45 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "STM32G431CBUx" (at 10.16 44.45 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "Package_DFN_QFN:QFN-48-1EP_7x7mm_P0.5mm_EP5.6x5.6mm" (at -12.7 -40.64 0)
        (effects (font (size 1.27 1.27)) (justify right) hide)
      )
      (property "Datasheet" "https://www.st.com/resource/en/datasheet/stm32g431cb.pdf" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_locked" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "ki_keywords" "Arm Cortex-M4 STM32G4 STM32G4x1" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "STMicroelectronics Arm Cortex-M4 MCU, 128KB flash, 32KB RAM, 170 MHz, 1.71-3.6V, 42 GPIO, UFQFPN48" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "QFN*1EP*7x7mm*P0.5mm*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "STM32G431CBUx_0_1"
        (rectangle (start -12.7 -40.64) (end 15.24 43.18)
          (stroke (width 0.254) (type default))
          (fill (type background))
        )
      )
      (symbol "STM32G431CBUx_1_1"
        (pin power_in line (at -2.54 45.72 270) (length 2.54)
          (name "VBAT" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin bidirectional line (at 17.78 35.56 180) (length 2.54)
          (name "PA2" (effects (font (size 1.27 1.27))))
          (number "10" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_IN3" bidirectional line)
          (alternate "COMP2_INM" bidirectional line)
          (alternate "COMP2_OUT" bidirectional line)
          (alternate "LPUART1_TX" bidirectional line)
          (alternate "OPAMP1_VOUT" bidirectional line)
          (alternate "RCC_LSCO" bidirectional line)
          (alternate "SYS_WKUP4" bidirectional line)
          (alternate "TIM15_CH1" bidirectional line)
          (alternate "TIM2_CH3" bidirectional line)
          (alternate "UCPD1_FRSTX1" bidirectional line)
          (alternate "UCPD1_FRSTX2" bidirectional line)
          (alternate "USART2_TX" bidirectional line)
        )
        (pin bidirectional line (at 17.78 33.02 180) (length 2.54)
          (name "PA3" (effects (font (size 1.27 1.27))))
          (number "11" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_IN4" bidirectional line)
          (alternate "COMP2_INP" bidirectional line)
          (alternate "LPUART1_RX" bidirectional line)
          (alternate "OPAMP1_VINM" bidirectional line)
          (alternate "OPAMP1_VINM0" bidirectional line)
          (alternate "OPAMP1_VINM_SEC" bidirectional line)
          (alternate "OPAMP1_VINP" bidirectional line)
          (alternate "OPAMP1_VINP_SEC" bidirectional line)
          (alternate "SAI1_CK1" bidirectional line)
          (alternate "SAI1_MCLK_A" bidirectional line)
          (alternate "TIM15_CH2" bidirectional line)
          (alternate "TIM2_CH4" bidirectional line)
          (alternate "USART2_RX" bidirectional line)
        )
        (pin bidirectional line (at 17.78 30.48 180) (length 2.54)
          (name "PA4" (effects (font (size 1.27 1.27))))
          (number "12" (effects (font (size 1.27 1.27))))
          (alternate "ADC2_IN17" bidirectional line)
          (alternate "COMP1_INM" bidirectional line)
          (alternate "DAC1_OUT1" bidirectional line)
          (alternate "I2S3_WS" bidirectional line)
          (alternate "SAI1_FS_B" bidirectional line)
          (alternate "SPI1_NSS" bidirectional line)
          (alternate "SPI3_NSS" bidirectional line)
          (alternate "TIM3_CH2" bidirectional line)
          (alternate "USART2_CK" bidirectional line)
        )
        (pin bidirectional line (at 17.78 27.94 180) (length 2.54)
          (name "PA5" (effects (font (size 1.27 1.27))))
          (number "13" (effects (font (size 1.27 1.27))))
          (alternate "ADC2_IN13" bidirectional line)
          (alternate "COMP2_INM" bidirectional line)
          (alternate "DAC1_OUT2" bidirectional line)
          (alternate "OPAMP2_VINM" bidirectional line)
          (alternate "OPAMP2_VINM0" bidirectional line)
          (alternate "OPAMP2_VINM_SEC" bidirectional line)
          (alternate "SPI1_SCK" bidirectional line)
          (alternate "TIM2_CH1" bidirectional line)
          (alternate "TIM2_ETR" bidirectional line)
          (alternate "UCPD1_FRSTX1" bidirectional line)
          (alternate "UCPD1_FRSTX2" bidirectional line)
        )
        (pin bidirectional line (at 17.78 25.4 180) (length 2.54)
          (name "PA6" (effects (font (size 1.27 1.27))))
          (number "14" (effects (font (size 1.27 1.27))))
          (alternate "ADC2_IN3" bidirectional line)
          (alternate "COMP1_OUT" bidirectional line)
          (alternate "LPUART1_CTS" bidirectional line)
          (alternate "OPAMP2_VOUT" bidirectional line)
          (alternate "SPI1_MISO" bidirectional line)
          (alternate "TIM16_CH1" bidirectional line)
          (alternate "TIM1_BKIN" bidirectional line)
          (alternate "TIM3_CH1" bidirectional line)
          (alternate "TIM8_BKIN" bidirectional line)
        )
        (pin bidirectional line (at 17.78 22.86 180) (length 2.54)
          (name "PA7" (effects (font (size 1.27 1.27))))
          (number "15" (effects (font (size 1.27 1.27))))
          (alternate "ADC2_IN4" bidirectional line)
          (alternate "COMP2_INP" bidirectional line)
          (alternate "COMP2_OUT" bidirectional line)
          (alternate "OPAMP1_VINP" bidirectional line)
          (alternate "OPAMP1_VINP_SEC" bidirectional line)
          (alternate "OPAMP2_VINP" bidirectional line)
          (alternate "OPAMP2_VINP_SEC" bidirectional line)
          (alternate "SPI1_MOSI" bidirectional line)
          (alternate "TIM17_CH1" bidirectional line)
          (alternate "TIM1_CH1N" bidirectional line)
          (alternate "TIM3_CH2" bidirectional line)
          (alternate "TIM8_CH1N" bidirectional line)
          (alternate "UCPD1_FRSTX1" bidirectional line)
          (alternate "UCPD1_FRSTX2" bidirectional line)
        )
        (pin bidirectional line (at -15.24 22.86 0) (length 2.54)
          (name "PC4" (effects (font (size 1.27 1.27))))
          (number "16" (effects (font (size 1.27 1.27))))
          (alternate "ADC2_IN5" bidirectional line)
          (alternate "I2C2_SCL" bidirectional line)
          (alternate "TIM1_ETR" bidirectional line)
          (alternate "USART1_TX" bidirectional line)
        )
        (pin bidirectional line (at -15.24 2.54 0) (length 2.54)
          (name "PB0" (effects (font (size 1.27 1.27))))
          (number "17" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_IN15" bidirectional line)
          (alternate "COMP4_INP" bidirectional line)
          (alternate "OPAMP2_VINP" bidirectional line)
          (alternate "OPAMP2_VINP_SEC" bidirectional line)
          (alternate "OPAMP3_VINP" bidirectional line)
          (alternate "OPAMP3_VINP_SEC" bidirectional line)
          (alternate "TIM1_CH2N" bidirectional line)
          (alternate "TIM3_CH3" bidirectional line)
          (alternate "TIM8_CH2N" bidirectional line)
          (alternate "UCPD1_FRSTX1" bidirectional line)
          (alternate "UCPD1_FRSTX2" bidirectional line)
        )
        (pin bidirectional line (at -15.24 0 0) (length 2.54)
          (name "PB1" (effects (font (size 1.27 1.27))))
          (number "18" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_IN12" bidirectional line)
          (alternate "COMP1_INP" bidirectional line)
          (alternate "COMP4_OUT" bidirectional line)
          (alternate "LPUART1_DE" bidirectional line)
          (alternate "LPUART1_RTS" bidirectional line)
          (alternate "OPAMP3_VOUT" bidirectional line)
          (alternate "TIM1_CH3N" bidirectional line)
          (alternate "TIM3_CH4" bidirectional line)
          (alternate "TIM8_CH3N" bidirectional line)
        )
        (pin bidirectional line (at -15.24 -2.54 0) (length 2.54)
          (name "PB2" (effects (font (size 1.27 1.27))))
          (number "19" (effects (font (size 1.27 1.27))))
          (alternate "ADC2_IN12" bidirectional line)
          (alternate "COMP4_INM" bidirectional line)
          (alternate "I2C3_SMBA" bidirectional line)
          (alternate "LPTIM1_OUT" bidirectional line)
          (alternate "OPAMP3_VINM" bidirectional line)
          (alternate "OPAMP3_VINM0" bidirectional line)
          (alternate "OPAMP3_VINM_SEC" bidirectional line)
          (alternate "RTC_OUT2" bidirectional line)
        )
        (pin bidirectional line (at -15.24 12.7 0) (length 2.54)
          (name "PC13" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
          (alternate "RTC_OUT1" bidirectional line)
          (alternate "RTC_TAMP1" bidirectional line)
          (alternate "RTC_TS" bidirectional line)
          (alternate "SYS_WKUP2" bidirectional line)
          (alternate "TIM1_BKIN" bidirectional line)
          (alternate "TIM1_CH1N" bidirectional line)
          (alternate "TIM8_CH4N" bidirectional line)
        )
        (pin input line (at -15.24 40.64 0) (length 2.54)
          (name "VREF+" (effects (font (size 1.27 1.27))))
          (number "20" (effects (font (size 1.27 1.27))))
          (alternate "VREFBUF_OUT" bidirectional line)
        )
        (pin power_in line (at 7.62 45.72 270) (length 2.54)
          (name "VDDA" (effects (font (size 1.27 1.27))))
          (number "21" (effects (font (size 1.27 1.27))))
        )
        (pin bidirectional line (at -15.24 -22.86 0) (length 2.54)
          (name "PB10" (effects (font (size 1.27 1.27))))
          (number "22" (effects (font (size 1.27 1.27))))
          (alternate "DAC1_EXTI10" bidirectional line)
          (alternate "DAC3_EXTI10" bidirectional line)
          (alternate "LPUART1_RX" bidirectional line)
          (alternate "OPAMP3_VINM" bidirectional line)
          (alternate "OPAMP3_VINM1" bidirectional line)
          (alternate "OPAMP3_VINM_SEC" bidirectional line)
          (alternate "SAI1_SCK_A" bidirectional line)
          (alternate "TIM1_BKIN" bidirectional line)
          (alternate "TIM2_CH3" bidirectional line)
          (alternate "USART3_TX" bidirectional line)
        )
        (pin power_in line (at 0 45.72 270) (length 2.54)
          (name "VDD" (effects (font (size 1.27 1.27))))
          (number "23" (effects (font (size 1.27 1.27))))
        )
        (pin bidirectional line (at -15.24 -25.4 0) (length 2.54)
          (name "PB11" (effects (font (size 1.27 1.27))))
          (number "24" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_EXTI11" bidirectional line)
          (alternate "ADC1_IN14" bidirectional line)
          (alternate "ADC2_EXTI11" bidirectional line)
          (alternate "ADC2_IN14" bidirectional line)
          (alternate "LPUART1_TX" bidirectional line)
          (alternate "TIM2_CH4" bidirectional line)
          (alternate "USART3_RX" bidirectional line)
        )
        (pin bidirectional line (at -15.24 -27.94 0) (length 2.54)
          (name "PB12" (effects (font (size 1.27 1.27))))
          (number "25" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_IN11" bidirectional line)
          (alternate "I2C2_SMBA" bidirectional line)
          (alternate "I2S2_WS" bidirectional line)
          (alternate "LPUART1_DE" bidirectional line)
          (alternate "LPUART1_RTS" bidirectional line)
          (alternate "SPI2_NSS" bidirectional line)
          (alternate "TIM1_BKIN" bidirectional line)
          (alternate "USART3_CK" bidirectional line)
        )
        (pin bidirectional line (at -15.24 -30.48 0) (length 2.54)
          (name "PB13" (effects (font (size 1.27 1.27))))
          (number "26" (effects (font (size 1.27 1.27))))
          (alternate "I2S2_CK" bidirectional line)
          (alternate "LPUART1_CTS" bidirectional line)
          (alternate "OPAMP3_VINP" bidirectional line)
          (alternate "OPAMP3_VINP_SEC" bidirectional line)
          (alternate "SPI2_SCK" bidirectional line)
          (alternate "TIM1_CH1N" bidirectional line)
          (alternate "USART3_CTS" bidirectional line)
          (alternate "USART3_NSS" bidirectional line)
        )
        (pin bidirectional line (at -15.24 -33.02 0) (length 2.54)
          (name "PB14" (effects (font (size 1.27 1.27))))
          (number "27" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_IN5" bidirectional line)
          (alternate "COMP4_OUT" bidirectional line)
          (alternate "OPAMP2_VINP" bidirectional line)
          (alternate "OPAMP2_VINP_SEC" bidirectional line)
          (alternate "SPI2_MISO" bidirectional line)
          (alternate "TIM15_CH1" bidirectional line)
          (alternate "TIM1_CH2N" bidirectional line)
          (alternate "USART3_DE" bidirectional line)
          (alternate "USART3_RTS" bidirectional line)
        )
        (pin bidirectional line (at -15.24 -35.56 0) (length 2.54)
          (name "PB15" (effects (font (size 1.27 1.27))))
          (number "28" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_EXTI15" bidirectional line)
          (alternate "ADC2_EXTI15" bidirectional line)
          (alternate "ADC2_IN15" bidirectional line)
          (alternate "COMP3_OUT" bidirectional line)
          (alternate "I2S2_SD" bidirectional line)
          (alternate "RTC_REFIN" bidirectional line)
          (alternate "SPI2_MOSI" bidirectional line)
          (alternate "TIM15_CH1N" bidirectional line)
          (alternate "TIM15_CH2" bidirectional line)
          (alternate "TIM1_CH3N" bidirectional line)
        )
        (pin bidirectional line (at -15.24 20.32 0) (length 2.54)
          (name "PC6" (effects (font (size 1.27 1.27))))
          (number "29" (effects (font (size 1.27 1.27))))
          (alternate "I2S2_MCK" bidirectional line)
          (alternate "TIM3_CH1" bidirectional line)
          (alternate "TIM8_CH1" bidirectional line)
        )
        (pin bidirectional line (at -15.24 10.16 0) (length 2.54)
          (name "PC14" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
          (alternate "RCC_OSC32_IN" bidirectional line)
        )
        (pin bidirectional line (at 17.78 20.32 180) (length 2.54)
          (name "PA8" (effects (font (size 1.27 1.27))))
          (number "30" (effects (font (size 1.27 1.27))))
          (alternate "I2C2_SDA" bidirectional line)
          (alternate "I2C3_SCL" bidirectional line)
          (alternate "I2S2_MCK" bidirectional line)
          (alternate "RCC_MCO" bidirectional line)
          (alternate "SAI1_CK2" bidirectional line)
          (alternate "SAI1_SCK_A" bidirectional line)
          (alternate "TIM1_CH1" bidirectional line)
          (alternate "TIM4_ETR" bidirectional line)
          (alternate "USART1_CK" bidirectional line)
        )
        (pin bidirectional line (at 17.78 17.78 180) (length 2.54)
          (name "PA9" (effects (font (size 1.27 1.27))))
          (number "31" (effects (font (size 1.27 1.27))))
          (alternate "DAC1_EXTI9" bidirectional line)
          (alternate "DAC3_EXTI9" bidirectional line)
          (alternate "I2C2_SCL" bidirectional line)
          (alternate "I2C3_SMBA" bidirectional line)
          (alternate "I2S3_MCK" bidirectional line)
          (alternate "SAI1_FS_A" bidirectional line)
          (alternate "TIM15_BKIN" bidirectional line)
          (alternate "TIM1_CH2" bidirectional line)
          (alternate "TIM2_CH3" bidirectional line)
          (alternate "UCPD1_DBCC1" bidirectional line)
          (alternate "USART1_TX" bidirectional line)
        )
        (pin bidirectional line (at 17.78 15.24 180) (length 2.54)
          (name "PA10" (effects (font (size 1.27 1.27))))
          (number "32" (effects (font (size 1.27 1.27))))
          (alternate "CRS_SYNC" bidirectional line)
          (alternate "DAC1_EXTI10" bidirectional line)
          (alternate "DAC3_EXTI10" bidirectional line)
          (alternate "I2C2_SMBA" bidirectional line)
          (alternate "SAI1_D1" bidirectional line)
          (alternate "SAI1_SD_A" bidirectional line)
          (alternate "SPI2_MISO" bidirectional line)
          (alternate "TIM17_BKIN" bidirectional line)
          (alternate "TIM1_CH3" bidirectional line)
          (alternate "TIM2_CH4" bidirectional line)
          (alternate "TIM8_BKIN" bidirectional line)
          (alternate "UCPD1_DBCC2" bidirectional line)
          (alternate "USART1_RX" bidirectional line)
        )
        (pin bidirectional line (at 17.78 12.7 180) (length 2.54)
          (name "PA11" (effects (font (size 1.27 1.27))))
          (number "33" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_EXTI11" bidirectional line)
          (alternate "ADC2_EXTI11" bidirectional line)
          (alternate "COMP1_OUT" bidirectional line)
          (alternate "FDCAN1_RX" bidirectional line)
          (alternate "I2S2_SD" bidirectional line)
          (alternate "SPI2_MOSI" bidirectional line)
          (alternate "TIM1_BKIN2" bidirectional line)
          (alternate "TIM1_CH1N" bidirectional line)
          (alternate "TIM1_CH4" bidirectional line)
          (alternate "TIM4_CH1" bidirectional line)
          (alternate "USART1_CTS" bidirectional line)
          (alternate "USART1_NSS" bidirectional line)
          (alternate "USB_DM" bidirectional line)
        )
        (pin bidirectional line (at 17.78 10.16 180) (length 2.54)
          (name "PA12" (effects (font (size 1.27 1.27))))
          (number "34" (effects (font (size 1.27 1.27))))
          (alternate "COMP2_OUT" bidirectional line)
          (alternate "FDCAN1_TX" bidirectional line)
          (alternate "I2S_CKIN" bidirectional line)
          (alternate "TIM16_CH1" bidirectional line)
          (alternate "TIM1_CH2N" bidirectional line)
          (alternate "TIM1_ETR" bidirectional line)
          (alternate "TIM4_CH2" bidirectional line)
          (alternate "USART1_DE" bidirectional line)
          (alternate "USART1_RTS" bidirectional line)
          (alternate "USB_DP" bidirectional line)
        )
        (pin power_in line (at 2.54 45.72 270) (length 2.54)
          (name "VDD" (effects (font (size 1.27 1.27))))
          (number "35" (effects (font (size 1.27 1.27))))
        )
        (pin bidirectional line (at 17.78 7.62 180) (length 2.54)
          (name "PA13" (effects (font (size 1.27 1.27))))
          (number "36" (effects (font (size 1.27 1.27))))
          (alternate "I2C1_SCL" bidirectional line)
          (alternate "IR_OUT" bidirectional line)
          (alternate "SAI1_SD_B" bidirectional line)
          (alternate "SYS_JTMS-SWDIO" bidirectional line)
          (alternate "TIM16_CH1N" bidirectional line)
          (alternate "TIM4_CH3" bidirectional line)
          (alternate "USART3_CTS" bidirectional line)
          (alternate "USART3_NSS" bidirectional line)
        )
        (pin bidirectional line (at 17.78 5.08 180) (length 2.54)
          (name "PA14" (effects (font (size 1.27 1.27))))
          (number "37" (effects (font (size 1.27 1.27))))
          (alternate "I2C1_SDA" bidirectional line)
          (alternate "LPTIM1_OUT" bidirectional line)
          (alternate "SAI1_FS_B" bidirectional line)
          (alternate "SYS_JTCK-SWCLK" bidirectional line)
          (alternate "TIM1_BKIN" bidirectional line)
          (alternate "TIM8_CH2" bidirectional line)
          (alternate "USART2_TX" bidirectional line)
        )
        (pin bidirectional line (at 17.78 2.54 180) (length 2.54)
          (name "PA15" (effects (font (size 1.27 1.27))))
          (number "38" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_EXTI15" bidirectional line)
          (alternate "ADC2_EXTI15" bidirectional line)
          (alternate "I2C1_SCL" bidirectional line)
          (alternate "I2S3_WS" bidirectional line)
          (alternate "SPI1_NSS" bidirectional line)
          (alternate "SPI3_NSS" bidirectional line)
          (alternate "SYS_JTDI" bidirectional line)
          (alternate "TIM1_BKIN" bidirectional line)
          (alternate "TIM2_CH1" bidirectional line)
          (alternate "TIM2_ETR" bidirectional line)
          (alternate "TIM8_CH1" bidirectional line)
          (alternate "USART2_RX" bidirectional line)
        )
        (pin bidirectional line (at -15.24 17.78 0) (length 2.54)
          (name "PC10" (effects (font (size 1.27 1.27))))
          (number "39" (effects (font (size 1.27 1.27))))
          (alternate "DAC1_EXTI10" bidirectional line)
          (alternate "DAC3_EXTI10" bidirectional line)
          (alternate "I2S3_CK" bidirectional line)
          (alternate "SPI3_SCK" bidirectional line)
          (alternate "TIM8_CH1N" bidirectional line)
          (alternate "USART3_TX" bidirectional line)
        )
        (pin bidirectional line (at -15.24 7.62 0) (length 2.54)
          (name "PC15" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_EXTI15" bidirectional line)
          (alternate "ADC2_EXTI15" bidirectional line)
          (alternate "RCC_OSC32_OUT" bidirectional line)
        )
        (pin bidirectional line (at -15.24 15.24 0) (length 2.54)
          (name "PC11" (effects (font (size 1.27 1.27))))
          (number "40" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_EXTI11" bidirectional line)
          (alternate "ADC2_EXTI11" bidirectional line)
          (alternate "I2C3_SDA" bidirectional line)
          (alternate "SPI3_MISO" bidirectional line)
          (alternate "TIM8_CH2N" bidirectional line)
          (alternate "USART3_RX" bidirectional line)
        )
        (pin bidirectional line (at -15.24 -5.08 0) (length 2.54)
          (name "PB3" (effects (font (size 1.27 1.27))))
          (number "41" (effects (font (size 1.27 1.27))))
          (alternate "CRS_SYNC" bidirectional line)
          (alternate "I2S3_CK" bidirectional line)
          (alternate "SAI1_SCK_B" bidirectional line)
          (alternate "SPI1_SCK" bidirectional line)
          (alternate "SPI3_SCK" bidirectional line)
          (alternate "SYS_JTDO-SWO" bidirectional line)
          (alternate "TIM2_CH2" bidirectional line)
          (alternate "TIM3_ETR" bidirectional line)
          (alternate "TIM4_ETR" bidirectional line)
          (alternate "TIM8_CH1N" bidirectional line)
          (alternate "USART2_TX" bidirectional line)
        )
        (pin bidirectional line (at -15.24 -7.62 0) (length 2.54)
          (name "PB4" (effects (font (size 1.27 1.27))))
          (number "42" (effects (font (size 1.27 1.27))))
          (alternate "SAI1_MCLK_B" bidirectional line)
          (alternate "SPI1_MISO" bidirectional line)
          (alternate "SPI3_MISO" bidirectional line)
          (alternate "SYS_JTRST" bidirectional line)
          (alternate "TIM16_CH1" bidirectional line)
          (alternate "TIM17_BKIN" bidirectional line)
          (alternate "TIM3_CH1" bidirectional line)
          (alternate "TIM8_CH2N" bidirectional line)
          (alternate "UCPD1_CC2" bidirectional line)
          (alternate "USART2_RX" bidirectional line)
        )
        (pin bidirectional line (at -15.24 -10.16 0) (length 2.54)
          (name "PB5" (effects (font (size 1.27 1.27))))
          (number "43" (effects (font (size 1.27 1.27))))
          (alternate "I2C1_SMBA" bidirectional line)
          (alternate "I2C3_SDA" bidirectional line)
          (alternate "I2S3_SD" bidirectional line)
          (alternate "LPTIM1_IN1" bidirectional line)
          (alternate "SAI1_SD_B" bidirectional line)
          (alternate "SPI1_MOSI" bidirectional line)
          (alternate "SPI3_MOSI" bidirectional line)
          (alternate "TIM16_BKIN" bidirectional line)
          (alternate "TIM17_CH1" bidirectional line)
          (alternate "TIM3_CH2" bidirectional line)
          (alternate "TIM8_CH3N" bidirectional line)
          (alternate "USART2_CK" bidirectional line)
        )
        (pin bidirectional line (at -15.24 -12.7 0) (length 2.54)
          (name "PB6" (effects (font (size 1.27 1.27))))
          (number "44" (effects (font (size 1.27 1.27))))
          (alternate "COMP4_OUT" bidirectional line)
          (alternate "LPTIM1_ETR" bidirectional line)
          (alternate "SAI1_FS_B" bidirectional line)
          (alternate "TIM16_CH1N" bidirectional line)
          (alternate "TIM4_CH1" bidirectional line)
          (alternate "TIM8_BKIN2" bidirectional line)
          (alternate "TIM8_CH1" bidirectional line)
          (alternate "TIM8_ETR" bidirectional line)
          (alternate "UCPD1_CC1" bidirectional line)
          (alternate "USART1_TX" bidirectional line)
        )
        (pin bidirectional line (at -15.24 -15.24 0) (length 2.54)
          (name "PB7" (effects (font (size 1.27 1.27))))
          (number "45" (effects (font (size 1.27 1.27))))
          (alternate "COMP3_OUT" bidirectional line)
          (alternate "I2C1_SDA" bidirectional line)
          (alternate "LPTIM1_IN2" bidirectional line)
          (alternate "SYS_PVD_IN" bidirectional line)
          (alternate "TIM17_CH1N" bidirectional line)
          (alternate "TIM3_CH4" bidirectional line)
          (alternate "TIM4_CH2" bidirectional line)
          (alternate "TIM8_BKIN" bidirectional line)
          (alternate "USART1_RX" bidirectional line)
        )
        (pin bidirectional line (at -15.24 -17.78 0) (length 2.54)
          (name "PB8" (effects (font (size 1.27 1.27))))
          (number "46" (effects (font (size 1.27 1.27))))
          (alternate "COMP1_OUT" bidirectional line)
          (alternate "FDCAN1_RX" bidirectional line)
          (alternate "I2C1_SCL" bidirectional line)
          (alternate "SAI1_CK1" bidirectional line)
          (alternate "SAI1_MCLK_A" bidirectional line)
          (alternate "TIM16_CH1" bidirectional line)
          (alternate "TIM1_BKIN" bidirectional line)
          (alternate "TIM4_CH3" bidirectional line)
          (alternate "TIM8_CH2" bidirectional line)
          (alternate "USART3_RX" bidirectional line)
        )
        (pin bidirectional line (at -15.24 -20.32 0) (length 2.54)
          (name "PB9" (effects (font (size 1.27 1.27))))
          (number "47" (effects (font (size 1.27 1.27))))
          (alternate "COMP2_OUT" bidirectional line)
          (alternate "DAC1_EXTI9" bidirectional line)
          (alternate "DAC3_EXTI9" bidirectional line)
          (alternate "FDCAN1_TX" bidirectional line)
          (alternate "I2C1_SDA" bidirectional line)
          (alternate "IR_OUT" bidirectional line)
          (alternate "SAI1_D2" bidirectional line)
          (alternate "SAI1_FS_A" bidirectional line)
          (alternate "TIM17_CH1" bidirectional line)
          (alternate "TIM1_CH3N" bidirectional line)
          (alternate "TIM4_CH4" bidirectional line)
          (alternate "TIM8_CH3" bidirectional line)
          (alternate "USART3_TX" bidirectional line)
        )
        (pin power_in line (at 5.08 45.72 270) (length 2.54)
          (name "VDD" (effects (font (size 1.27 1.27))))
          (number "48" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at 2.54 -43.18 90) (length 2.54)
          (name "VSS" (effects (font (size 1.27 1.27))))
          (number "49" (effects (font (size 1.27 1.27))))
        )
        (pin bidirectional line (at -15.24 30.48 0) (length 2.54)
          (name "PF0" (effects (font (size 1.27 1.27))))
          (number "5" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_IN10" bidirectional line)
          (alternate "I2C2_SDA" bidirectional line)
          (alternate "I2S2_WS" bidirectional line)
          (alternate "RCC_OSC_IN" bidirectional line)
          (alternate "SPI2_NSS" bidirectional line)
          (alternate "TIM1_CH3N" bidirectional line)
        )
        (pin bidirectional line (at -15.24 27.94 0) (length 2.54)
          (name "PF1" (effects (font (size 1.27 1.27))))
          (number "6" (effects (font (size 1.27 1.27))))
          (alternate "ADC2_IN10" bidirectional line)
          (alternate "COMP3_INM" bidirectional line)
          (alternate "I2S2_CK" bidirectional line)
          (alternate "RCC_OSC_OUT" bidirectional line)
          (alternate "SPI2_SCK" bidirectional line)
        )
        (pin bidirectional line (at -15.24 35.56 0) (length 2.54)
          (name "PG10" (effects (font (size 1.27 1.27))))
          (number "7" (effects (font (size 1.27 1.27))))
          (alternate "DAC1_EXTI10" bidirectional line)
          (alternate "DAC3_EXTI10" bidirectional line)
          (alternate "RCC_MCO" bidirectional line)
        )
        (pin bidirectional line (at 17.78 40.64 180) (length 2.54)
          (name "PA0" (effects (font (size 1.27 1.27))))
          (number "8" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_IN1" bidirectional line)
          (alternate "ADC2_IN1" bidirectional line)
          (alternate "COMP1_INM" bidirectional line)
          (alternate "COMP1_OUT" bidirectional line)
          (alternate "COMP3_INP" bidirectional line)
          (alternate "RTC_TAMP2" bidirectional line)
          (alternate "SYS_WKUP1" bidirectional line)
          (alternate "TIM2_CH1" bidirectional line)
          (alternate "TIM2_ETR" bidirectional line)
          (alternate "TIM8_BKIN" bidirectional line)
          (alternate "TIM8_ETR" bidirectional line)
          (alternate "USART2_CTS" bidirectional line)
          (alternate "USART2_NSS" bidirectional line)
        )
        (pin bidirectional line (at 17.78 38.1 180) (length 2.54)
          (name "PA1" (effects (font (size 1.27 1.27))))
          (number "9" (effects (font (size 1.27 1.27))))
          (alternate "ADC1_IN2" bidirectional line)
          (alternate "ADC2_IN2" bidirectional line)
          (alternate "COMP1_INP" bidirectional line)
          (alternate "OPAMP1_VINP" bidirectional line)
          (alternate "OPAMP1_VINP_SEC" bidirectional line)
          (alternate "OPAMP3_VINP" bidirectional line)
          (alternate "OPAMP3_VINP_SEC" bidirectional line)
          (alternate "RTC_REFIN" bidirectional line)
          (alternate "TIM15_CH1N" bidirectional line)
          (alternate "TIM2_CH2" bidirectional line)
          (alternate "USART2_DE" bidirectional line)
          (alternate "USART2_RTS" bidirectional line)
        )
      )
    )
  )


  (symbol (lib_id "MCU_ST_STM32G4:STM32G431CBUx") (at 72.39 88.9 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 5c545cae-e528-4681-ac30-62a854544cbf)
    (property "Reference" "U1" (at 76.8859 132.08 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "STM32G431CBUx" (at 76.8859 134.62 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Package_DFN_QFN:QFN-48-1EP_7x7mm_P0.5mm_EP5.6x5.6mm" (at 59.69 129.54 0)
      (effects (font (size 1.27 1.27)) (justify right) hide)
    )
    (property "Datasheet" "https://www.st.com/resource/en/datasheet/stm32g431cb.pdf" (at 72.39 88.9 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 9e998b4e-7711-4494-8e41-bfd9f22a4658))
    (pin "10" (uuid 91d729d9-fc1e-4e59-8733-f47d9d6ad72e))
    (pin "11" (uuid 8f3b4a53-b75c-494c-a2ee-ea2104895339))
    (pin "12" (uuid a9f67bd5-ec8d-4f8d-8030-70fd34bd179a))
    (pin "13" (uuid 8fcbb33f-2704-48cc-8e93-3217e0b84cb8))
    (pin "14" (uuid c58b944a-6509-4f26-8d6e-6f4f487e4b8a))
    (pin "15" (uuid 2284b7c0-b658-43db-b7b7-cda2bf973b27))
    (pin "16" (uuid e49d2c31-3f80-4d03-b375-d7105e8229d7))
    (pin "17" (uuid 96534316-5e3b-4954-872c-0dd99d2ea648))
    (pin "18" (uuid 19878c65-239c-4fc5-b92f-ce9a233140af))
    (pin "19" (uuid a3f7d76e-3f46-4ed2-be69-690ce1bf5001))
    (pin "2" (uuid 16672fec-9e9e-4fe7-830a-d68df91c552d))
    (pin "20" (uuid 5fe5039d-1b7b-47c2-93a1-01fb0e2ae61b))
    (pin "21" (uuid 016fbdfe-9169-49bb-a1e3-36fa962840dc))
    (pin "22" (uuid 5426d915-834e-44e3-aa1a-0a1c184502bc))
    (pin "23" (uuid f84791e4-7ab2-4f4d-8c23-ef9ae953a980))
    (pin "24" (uuid 93e292c8-264e-4a74-8489-87344b4c7a61))
    (pin "25" (uuid 3102c167-39b5-47eb-ad74-42ab3b0475ab))
    (pin "26" (uuid 0137b0d5-45ea-4d58-8c8d-a28c30d403cb))
    (pin "27" (uuid df30e936-bc4e-4161-aa89-0416f5c396c1))
    (pin "28" (uuid e9541e05-3664-428c-a449-fc5448ec0d80))
    (pin "29" (uuid 361ca94a-e993-4352-b2b9-fd1dfe93e3c5))
    (pin "3" (uuid 606be28c-16f0-4637-a372-550df81f49dc))
    (pin "30" (uuid e18f6e10-6092-44f6-a0a4-7aa831bddd0c))
    (pin "31" (uuid 3e79c12f-193d-4e43-978a-10a0012c5154))
    (pin "32" (uuid 16fc153d-49bf-47b8-be0f-aa323bd0a2a5))
    (pin "33" (uuid 1a10d7d1-8113-4127-be4a-13871d3e3fee))
    (pin "34" (uuid 1a3fa5e6-6819-41b6-aaa1-484c3bf0ed65))
    (pin "35" (uuid 08c6bfa4-35a3-42d9-b20e-2ef907cd5e0b))
    (pin "36" (uuid ada465dc-6bdd-48b4-ac8a-7106db150256))
    (pin "37" (uuid 3c2a4c0f-1aca-40b9-a7ce-13fc7227bac3))
    (pin "38" (uuid 266b039a-0d1a-47c1-9e3b-456785e3b211))
    (pin "39" (uuid 17798ba9-9e3d-4a1c-afe5-49dc16ab6cda))
    (pin "4" (uuid 97f13f65-6e95-4603-973a-aef1f2cc8390))
    (pin "40" (uuid 1ba62364-11e4-4287-903d-eb5090d5fa9c))
    (pin "41" (uuid f11cc9c5-b735-4f73-aaec-17c7114ed181))
    (pin "42" (uuid 69b99e56-83a0-42f2-8b71-2644be740a60))
    (pin "43" (uuid baf0fc7d-79d8-4f28-a96e-c1f84705214c))
    (pin "44" (uuid f4541a9d-090c-4cb2-95eb-3c24b80d0102))
    (pin "45" (uuid 6edcd08b-9b73-4ae2-821e-b411c40455b5))
    (pin "46" (uuid 817508ae-4233-4587-aa7e-21f296f95d78))
    (pin "47" (uuid 1239e40a-6e8c-4e07-9223-e53eca7abc66))
    (pin "48" (uuid 6f1ca69e-e66d-4e09-937f-370e89e69356))
    (pin "49" (uuid efccc0a6-5a3a-4f3c-aa45-ed02a8147275))
    (pin "5" (uuid f91616b8-6cd6-46a2-8b1e-2c1248865fd4))
    (pin "6" (uuid f95ae698-fe06-4cbf-847e-186abd726fb1))
    (pin "7" (uuid c17739ba-8073-477c-bb43-a75574aa07db))
    (pin "8" (uuid 9f008380-2c4f-44a1-b3ad-bb1204ce9938))
    (pin "9" (uuid bae20b94-5c9e-49e4-92cf-5f641041521d))
    (instances
      (project "bldcDriver"
        (path "/024b6358-58d2-4f27-baff-bf9e44899c87"
          (reference "U1") (unit 1)
        )
      )
    )
  )

  (sheet_instances
    (path "/" (page "1"))
  )
)
